<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script>
        var prv
        var tries=0
        window.onload=generateNumber()

        function restart() {
            location.reload()
        }

            function generateNumber() {
                 var number=Math.floor(1000 + Math.random() * 9000)
                prv=number
            }

            function check() {

                var guess=document.getElementById("guess")
                var mainDiv=document.getElementById("prikaz")

                guess=guess.value.split("")
                var randomNum=prv.toString()
                randomNum=randomNum.split("")

                var counter=0
                var counterplace=0

                for(i=0;i<guess.length;i++){
                    for(j=0;j<randomNum.length;j++){
                        if(guess[i]==randomNum[j]){
                            counter++;

                            if(i==j){
                                counterplace++
                            }
                        }
                    }
                }

                if(parseInt(counterplace)>=4){
                    document.getElementById("check").disabled=true
                    var nextline = document.createElement("br")
                    var texxt=document.createTextNode("ПОГОДИВТЕ! Бројот е "+prv+".")
                    mainDiv.appendChild(texxt)
                    mainDiv.appendChild(nextline)

                }else {
                    var text = document.createTextNode("Има " + counter + ", на место " + counterplace + " " + document.getElementById("guess").value)
                    mainDiv.appendChild(text)
                    var nextline = document.createElement("br")
                    mainDiv.appendChild(nextline)
                }
                tries++
                document.getElementById("obid").innerText="Обиди "+tries
                if(tries==10){
                    document.getElementById("check").disabled=true
                    var tekst=document.createTextNode("Не успеавте да погодите од 10 обиди.Бројот е "+prv)
                   mainDiv.appendChild(tekst)
                }
                console.log(randomNum)
            }
    </script>
</head>
<body>
<div>
    <div style="text-align:right; float:left">
        <label id="obid">Обиди 0</label>
        <p>Погодок: <input id="guess" type="number" style="width:150px"/></p>
        <button  id="check" onclick="check()">Погоди</button>
        <button onclick="restart()">Од почеток</button>
    </div>
</div>
<br/>
<div id="prikaz" style="clear: both">

</div>
</body>
</html>